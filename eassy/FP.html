<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>函数式编程从入门到出家 |  </title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/head.jpg">
    <script>
              var _hmt = _hmt || [];
              (function() {
                  var hm = document.createElement("script");
                  hm.src = "https://hm.baidu.com/hm.js?850788452cf34b7fc456bd7e8a437504";
                  var s = document.getElementsByTagName("script")[0];
                  s.parentNode.insertBefore(hm, s);
              })();
            </script>
    <meta name="description" content=" ">
    <link rel="preload" href="/assets/css/0.styles.a6ddf5cf.css" as="style"><link rel="preload" href="/assets/js/app.32b1937c.js" as="script"><link rel="preload" href="/assets/js/2.1166114f.js" as="script"><link rel="preload" href="/assets/js/11.a59accf0.js" as="script"><link rel="prefetch" href="/assets/js/10.ac0d171d.js"><link rel="prefetch" href="/assets/js/12.20fbf770.js"><link rel="prefetch" href="/assets/js/13.623743ff.js"><link rel="prefetch" href="/assets/js/14.2ffaae32.js"><link rel="prefetch" href="/assets/js/15.52ffd5da.js"><link rel="prefetch" href="/assets/js/16.7de35f5a.js"><link rel="prefetch" href="/assets/js/17.e8b20196.js"><link rel="prefetch" href="/assets/js/18.4bede55e.js"><link rel="prefetch" href="/assets/js/19.c28349e6.js"><link rel="prefetch" href="/assets/js/20.cc3f96fa.js"><link rel="prefetch" href="/assets/js/21.aeba0d84.js"><link rel="prefetch" href="/assets/js/22.5f2a46d0.js"><link rel="prefetch" href="/assets/js/23.7d0dacf0.js"><link rel="prefetch" href="/assets/js/24.650d8f6a.js"><link rel="prefetch" href="/assets/js/25.b923c43d.js"><link rel="prefetch" href="/assets/js/26.38ce26e1.js"><link rel="prefetch" href="/assets/js/27.183413b7.js"><link rel="prefetch" href="/assets/js/28.13ae56af.js"><link rel="prefetch" href="/assets/js/3.a4b6be5c.js"><link rel="prefetch" href="/assets/js/4.609dba14.js"><link rel="prefetch" href="/assets/js/5.802a929c.js"><link rel="prefetch" href="/assets/js/6.659d72aa.js"><link rel="prefetch" href="/assets/js/7.5fb965ee.js"><link rel="prefetch" href="/assets/js/8.05a4f516.js"><link rel="prefetch" href="/assets/js/9.129b8c02.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a6ddf5cf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name"> </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/index.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/作品/" class="nav-link">
  作品
</a></div><div class="nav-item"><a href="/eassy/" class="nav-link router-link-active">
  文章
</a></div><div class="nav-item"><a href="/随笔/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/cc456xie" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/index.html" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/作品/" class="nav-link">
  作品
</a></div><div class="nav-item"><a href="/eassy/" class="nav-link router-link-active">
  文章
</a></div><div class="nav-item"><a href="/随笔/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="https://github.com/cc456xie" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>eassy</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/eassy/6.22.html" class="sidebar-link">第一次作业</a></li><li><a href="/eassy/ECMA2015+.html" class="sidebar-link">ES6+</a></li><li><a href="/eassy/FP.html" aria-current="page" class="active sidebar-link">函数式编程从入门到出家</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eassy/FP.html#什么是函数式编程" class="sidebar-link">什么是函数式编程</a></li><li class="sidebar-sub-header"><a href="/eassy/FP.html#函数是一等公民" class="sidebar-link">函数是一等公民</a></li><li class="sidebar-sub-header"><a href="/eassy/FP.html#高阶函数" class="sidebar-link">高阶函数</a></li><li class="sidebar-sub-header"><a href="/eassy/FP.html#柯里化" class="sidebar-link">柯里化</a></li><li class="sidebar-sub-header"><a href="/eassy/FP.html#组合函数" class="sidebar-link">组合函数</a></li></ul></li><li><a href="/eassy/" aria-current="page" class="sidebar-link">HTTP初探</a></li><li><a href="/eassy/bfc.html" class="sidebar-link">BFC探究</a></li><li><a href="/eassy/cx-tools-library.html" class="sidebar-link">工具函数库文档</a></li><li><a href="/eassy/handle-promise.html" class="sidebar-link">手写promise以及其部分方法</a></li><li><a href="/eassy/promise.html" class="sidebar-link">promise解析</a></li><li><a href="/eassy/serverless.html" class="sidebar-link">serverless-大前端的思考</a></li><li><a href="/eassy/sort.html" class="sidebar-link">手撕排序算法(上)</a></li><li><a href="/eassy/typescript入门.html" class="sidebar-link">typescript</a></li><li><a href="/eassy/前端工程化及及自动化构建.html" class="sidebar-link">/eassy/前端工程化及及自动化构建.html</a></li><li><a href="/eassy/手写call,apply,bind.html" class="sidebar-link">手写 call，apply，bind</a></li><li><a href="/eassy/手写节流、防抖.html" class="sidebar-link">手写节流，防抖</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="函数式编程从入门到出家"><a href="#函数式编程从入门到出家" class="header-anchor">#</a> 函数式编程从入门到出家</h1> <h2 id="什么是函数式编程"><a href="#什么是函数式编程" class="header-anchor">#</a> 什么是函数式编程</h2> <p><code>函数式编程</code>(Function Program)是一种编程范式或者编程风格，与其类似的还有<code>面向对象编程</code>。</p> <ul><li><code>面向对象</code>的含义是：把现实世界的事物抽象成面向对象世界的类和对象。通过<code>封装</code>,<code>继承</code>和<code>多态</code>来掩饰事物与事物之间的联系。</li> <li>而<code>函数式编程</code>则是把现实世界的<code>事物</code>与<code>事物</code>之间的联系抽象成到程序世界
<ul><li>程序的本质：根据输入通过某种运算得到相应的输出，程序开发过程中会涉及很多有输入输出的函数</li> <li><strong>函数式编程中的函数不是指程序中的函数（方法）</strong>,而是数学中的映射关系，如：y = sin(x)，x和y的关系就是函数</li> <li><code>纯函数</code>：<strong>相同的输入总会得到相同的输出</strong></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 非函数式</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>


<span class="token comment">//函数式</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
</code></pre></div><h2 id="函数是一等公民"><a href="#函数是一等公民" class="header-anchor">#</a> <strong>函数是一等公民</strong></h2> <ul><li><p>函数可以存在<code>变量</code>中</p></li> <li><p>函数可以作为参数</p></li> <li><p>函数可以作为返回值</p></li> <li><p>将函数赋给变量：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'first-class function'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="高阶函数"><a href="#高阶函数" class="header-anchor">#</a> 高阶函数</h2> <h3 id="什么是高阶函数"><a href="#什么是高阶函数" class="header-anchor">#</a> 什么是高阶函数</h3> <p><strong>高阶函数</strong>:</p> <ul><li>可以把函数作为参数传给另一个函数</li> <li>可以把函数作为另一个函数的返回结果</li></ul> <p>函数作为参数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
           res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码中将<em>fn</em>函数作为参数传给了<em>forEach</em>和<em>filter</em>函数，所以forEach函数是一个高阶函数。</p> <p>函数作为返回值：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">makeFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">'hello world'</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//once函数,fn函数只会执行一次</span>
<span class="token keyword">function</span> <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> done <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>done<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            done <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//上面的once函数运用了`闭包`，将`done`存储在闭包里，所以无论调用了多少次once，fn只会执行一次</span>
</code></pre></div><p><strong>闭包</strong></p> <ul><li><code>闭包</code>：函数和其周围的状态捆绑在一起形成闭包。</li> <li>可以在另一个作用域中调用一个函数的内部函数并且访问这个函数的内部成员</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">'hello world'</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//hello world</span>
</code></pre></div><p>由于外层函数被外部引用，所以外层函数执行完后不会被销毁，其内部变量可以保存</p> <h2 id="柯里化"><a href="#柯里化" class="header-anchor">#</a> 柯里化</h2> <p>概念：将一个接收多个参数的函数转化为只接收部分参数，然后返回一个函数接受剩下的参数，称为函数的柯里化（<strong>个人理解</strong>）</p> <p>作用：</p> <ul><li>可以让函数变得更灵活，粒度更小</li> <li>可以把多元函数转化为一元函数，通过函数组合产生更强大的函数</li></ul> <p><strong>实现一个柯里化函数</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>	<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fun</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">let</span> argLengs <span class="token operator">=</span> fun<span class="token punctuation">.</span>length
		<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> argLengs<span class="token punctuation">)</span><span class="token punctuation">{</span> 
				<span class="token keyword">return</span> <span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span>args<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span><span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> fn
	<span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c
        <span class="token punctuation">}</span>

    <span class="token keyword">const</span> sumCurry <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>

    <span class="token keyword">let</span> sumer <span class="token operator">=</span>  <span class="token function">sumCurry</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sumer<span class="token punctuation">)</span>   <span class="token comment">//6</span>
    
</code></pre></div><p>上面的<code>curry</code>是一个将函数柯里化的函数，<code>sumCurry</code>即被柯里化后的<code>sum</code>函数。</p> <h2 id="组合函数"><a href="#组合函数" class="header-anchor">#</a> 组合函数</h2> <ul><li>将多个函数作为参数，组合成一个新的函数</li> <li>避免洋葱代码，即多层的函数调用嵌套。</li></ul> <h3 id="数据管道"><a href="#数据管道" class="header-anchor">#</a> 数据管道</h3> <ul><li>管道即函数，一个数据x从管道进入，从管道另一侧输出y。</li> <li>可以将一个长的管道（大的函数）拆分成若干短的管道（小的函数）</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>fn <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>f1<span class="token punctuation">,</span>f2<span class="token punctuation">,</span>f3<span class="token punctuation">)</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="函数组合"><a href="#函数组合" class="header-anchor">#</a> 函数组合</h3> <p>如果一个函数要经过多个函数的处理才能得到结果，那么可以把中间过程的函数合并成一个函数。</p> <ul><li>函数组合默认从右到左执行</li></ul> <p>一个简单的组合函数:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span>g</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>实现一个组合函数</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>onst <span class="token function-variable function">reverse</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">first</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">toUpper</span> <span class="token operator">=</span> <span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// 组合函数</span>
	<span class="token keyword">function</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>toUpper<span class="token punctuation">,</span>first<span class="token punctuation">,</span>reverse<span class="token punctuation">)</span>
	
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'asd'</span><span class="token punctuation">,</span><span class="token string">'dsa'</span><span class="token punctuation">,</span><span class="token string">'wqe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//WQE</span>

</code></pre></div><h3 id="函子"><a href="#函子" class="header-anchor">#</a> 函子</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/eassy/ECMA2015+.html" class="prev">
        ES6+
      </a></span> <span class="next"><a href="/eassy/" class="router-link-active">
        HTTP初探
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.32b1937c.js" defer></script><script src="/assets/js/2.1166114f.js" defer></script><script src="/assets/js/11.a59accf0.js" defer></script>
  </body>
</html>
